<link rel="stylesheet" type="text/css" href="/css/taskPO.css">


<section>


    <!-- Denne skal vise udfra url om den valgte tanksstation har frontspace rengøring-->
    <h2>{{task.[Gasstation.Branch.name]}}, {{task.[Gasstation.address]}}, {{task.[Gasstation.City.zipCode]}} {{task.[Gasstation.City.name]}} </h2>

    {{#ifEq task.[Gasstation.frontSpace] 1}}
    <p class="frontspace-warning">! Obs. på denne lokation skal du rengøre forpladsen !</p>
    {{/ifEq}}

</section>

<form id="taskForm" enctype="multipart/form-data" action="/uploadTask/{{task.id}}" method="post">

    <section class="sec1">
        <h4>Upload Billeder</h4>

<section class="sec1">
    <form id="uploadImageForm" enctype="multipart/form-data" action="/uploadTaskImage/{{task.id}}" method="post">
    <h4>Upload Billeder</h4>


        <div class="pic-upload">
            <button type="button" class="before" onclick="document.getElementById('beforeInput').click()">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="camera">
                <path fill="#caf0f8" d="M193.1 32c-18.7 0-36.2 9.4-46.6 24.9L120.5 96 64 96C28.7 96 0 
    124.7 0 160L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-256c0-35.3-28.7-64-64-64l-56.5 
    0-26-39.1C355.1 41.4 337.6 32 318.9 32L193.1 32zm-6.7 51.6c1.5-2.2 4-3.6 6.7-3.6l125.7 0c2.7 
    0 5.2 1.3 6.7 3.6l33.2 49.8c4.5 6.7 11.9 10.7 20 10.7l69.3 0c8.8 0 16 7.2 16 16l0 256c0 8.8-7.2 
    16-16 16L64 432c-8.8 0-16-7.2-16-16l0-256c0-8.8 7.2-16 16-16l69.3 0c8 0 15.5-4 20-10.7l33.2-49.8zM256 384a112 
    112 0 1 0 0-224 112 112 0 1 0 0 224zM192 272a64 64 0 1 1 128 0 64 64 0 1 1 -128 0z" />
            </svg>
            <input type="file" id="beforeInput" name="beforePicture" accept="image/*" multiple style="display: none;">
            
                Før billeder
                </button>
            <span id="beforeCount" class="file-count"></span>
        </div>

        <div>
            <button type="button" class="before" onclick="document.getElementById('afterInput').click()">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="camera">
                <path fill="#caf0f8" d="M193.1 32c-18.7 0-36.2 9.4-46.6 24.9L120.5 96 64 96C28.7 96 0 
    124.7 0 160L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-256c0-35.3-28.7-64-64-64l-56.5 
    0-26-39.1C355.1 41.4 337.6 32 318.9 32L193.1 32zm-6.7 51.6c1.5-2.2 4-3.6 6.7-3.6l125.7 0c2.7 
    0 5.2 1.3 6.7 3.6l33.2 49.8c4.5 6.7 11.9 10.7 20 10.7l69.3 0c8.8 0 16 7.2 16 16l0 256c0 8.8-7.2 
    16-16 16L64 432c-8.8 0-16-7.2-16-16l0-256c0-8.8 7.2-16 16-16l69.3 0c8 0 15.5-4 20-10.7l33.2-49.8zM256 384a112 
    112 0 1 0 0-224 112 112 0 1 0 0 224zM192 272a64 64 0 1 1 128 0 64 64 0 1 1 -128 0z" />
            </svg>
            <div>
            
                <input type="file" id="afterInput" name="afterPicture" accept="image/*" multiple style="display: none;">
            
                    Efter billeder</button>
                <span id="afterCount" class="file-count"></span>
            </div>
        </div>

        <button type="button" class="uploadet">Se uploadet billeder</button>

    </section>

    <section class="sec2">
        <form id="taskForm" action="/uploadTask/{{task.id}}" method="post"></form>
        <h4>Opfyldning af produkter</h4>

        <div class="product-selector">
            <label for="productId">Vælg produkt</label>


            <select name="productId" id="productId">
                <option value="">-- Vælg et produkt --</option>
                {{#each product}}
                <option value="{{this.id}}" data-unit="{{this.[Unit.name]}}">{{this.name}}</option>
                {{/each}}
            </select>

            <label for="amount">Mængde</label>
            <div class="input-unit">
                <input type="number" id="amount" name="amount" placeholder="Indtast mængde">
                <span id="unit-display"></span>
            </div>

            <button type="button" id="addProductBtn">Tilføj produkt</button>
        </div>

        <div id="selectedProducts">
            <!-- Her vises de valgte produkter -->
        </div>
    </section>
    <select name="productIdContainer" id="productIdContainer" multiple class="hidden"></select>
    <select name="productAmountContainer" id="productAmountContainer" multiple class="hidden"></select>
</form>
<div class="submit-container">
    <button type="submit" id="submitAllBtn" form="taskForm">Gem alle</button>
</div>

<script src="/js/createTaskData.js"></script>